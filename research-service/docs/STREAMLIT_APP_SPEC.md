# Streamlit Testing UI Specification

## Overview

A comprehensive Streamlit web application for testing, monitoring, and debugging the research service. This UI provides developers and QA engineers with tools to validate functionality, run tests, and analyze performance.

---

## ðŸŽ¯ Core Features

### 1. **Test Case Runner**
Execute pytest test suites directly from the UI with real-time output.

### 2. **Interactive Search & Research Testers**
Manually trigger search and research operations with full parameter control.

### 3. **Results Visualization**
View results with syntax highlighting, source citations, and performance metrics.

### 4. **Langfuse Integration**
Direct links to traces for every API call for deep debugging.

### 5. **Performance Dashboard**
Track execution times, token usage, costs, and success rates.

---

## ðŸ“ Application Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ”¬ Research Service Testing UI                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Home] [Test Runner] [Search] [Research] [Dashboard]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚                    MAIN CONTENT AREA                     â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ  Page 1: Home & System Status

### Components

#### **System Health Check**
```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Service Status                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… Research API      (8001)         â”‚
â”‚ âœ… PostgreSQL        (5432)         â”‚
â”‚ âœ… Redis             (6379)         â”‚
â”‚ âœ… Langfuse          (Connected)    â”‚
â”‚ âœ… OpenRouter        (API Valid)    â”‚
â”‚ âš ï¸  SearxNG           (Timeout)      â”‚
â”‚ âœ… SerperDev         (API Valid)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **Quick Stats**
- Total sessions today
- Average search time
- Average research time
- Success rate
- Total cost (from Langfuse)

#### **Recent Sessions**
Table showing last 10 sessions with:
- Session ID (clickable â†’ detail view)
- Query
- Mode (search/research)
- Status
- Execution time
- Langfuse trace link

---

## ðŸ§ª Page 2: Test Runner

### Test Suite Selector

```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ“¦ Test Suite Selection                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜ All Tests                                         â”‚
â”‚ â˜ Unit Tests                                        â”‚
â”‚   â”œâ”€ â˜ Configuration Tests                          â”‚
â”‚   â”œâ”€ â˜ Database Model Tests                         â”‚
â”‚   â”œâ”€ â˜ Agent Tests                                  â”‚
â”‚   â”œâ”€ â˜ Service Tests                                â”‚
â”‚   â””â”€ â˜ RAG Tests                                    â”‚
â”‚ â˜ Integration Tests                                 â”‚
â”‚   â”œâ”€ â˜ Database Integration                         â”‚
â”‚   â”œâ”€ â˜ LLM Integration                              â”‚
â”‚   â””â”€ â˜ Search Service Integration                   â”‚
â”‚ â˜ E2E Tests                                         â”‚
â”‚   â”œâ”€ â˜ Search Pipeline E2E                          â”‚
â”‚   â””â”€ â˜ Research Pipeline E2E                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Test Execution Controls

```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Test Execution Options               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Verbosity:     [â—] Verbose           â”‚
â”‚                [ ] Normal             â”‚
â”‚                [ ] Quiet              â”‚
â”‚                                       â”‚
â”‚ Stop on Fail:  [ ] Yes  [â—] No       â”‚
â”‚                                       â”‚
â”‚ Coverage:      [â—] Enable  [ ] Skip  â”‚
â”‚                                       â”‚
â”‚ Markers:       [fast] [slow] [api]   â”‚
â”‚                                       â”‚
â”‚            [â–¶ Run Selected Tests]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Real-Time Test Output

```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ–¥ï¸ Test Output                                   [Clear Log] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Running: pytest tests/unit/test_config.py -v               â”‚
â”‚                                                              â”‚
â”‚ ============================= test session starts =========  â”‚
â”‚ collected 10 items                                           â”‚
â”‚                                                              â”‚
â”‚ tests/unit/test_config.py::test_settings_with_defaults âœ“    â”‚
â”‚ tests/unit/test_config.py::test_research_pipeline_defaults âœ“â”‚
â”‚ tests/unit/test_config.py::test_search_mode_defaults âœ“      â”‚
â”‚ tests/unit/test_config.py::test_embedding_defaults âœ“        â”‚
â”‚ ...                                                          â”‚
â”‚                                                              â”‚
â”‚ ============================= 10 passed in 2.34s ==========  â”‚
â”‚                                                              â”‚
â”‚ Coverage Report:                                             â”‚
â”‚ src/core/config.py     145    12    92%                     â”‚
â”‚ TOTAL                  145    12    92%                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Test Results Summary

```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Test Results Summary                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Total:     127                                 â”‚
â”‚ Passed:    124  âœ…                             â”‚
â”‚ Failed:      2  âŒ                             â”‚
â”‚ Skipped:     1  â­ï¸                              â”‚
â”‚ Duration:  45.2s                               â”‚
â”‚ Coverage:  87%                                 â”‚
â”‚                                                â”‚
â”‚ Failed Tests:                                  â”‚
â”‚ â€¢ tests/unit/agents/test_search_agent.py::... â”‚
â”‚ â€¢ tests/integration/test_rag.py::...          â”‚
â”‚                                                â”‚
â”‚        [ðŸ“„ View Full Report]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ” Page 3: Search Mode Tester

### Query Input

```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ” Search Mode Tester                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Query:                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ What are the latest developments in AI agents?    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                        â”‚
â”‚ [Example Queries â–¼]                                   â”‚
â”‚   â€¢ Current events query                              â”‚
â”‚   â€¢ Technical definition                              â”‚
â”‚   â€¢ Comparison query                                  â”‚
â”‚   â€¢ How-to query                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Parameter Configuration

```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš™ï¸ Search Parameters                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Max Sub-Queries:    [4        ] (1-10)                â”‚
â”‚ Max Sources:        [20       ] (5-50)                â”‚
â”‚ Timeout (seconds):  [60       ] (10-120)              â”‚
â”‚                                                        â”‚
â”‚ LLM Model:          [Claude 3.5 Sonnet      â–¼]        â”‚
â”‚ Planning Model:     [Claude 3.5 Sonnet      â–¼]        â”‚
â”‚                                                        â”‚
â”‚ Search Providers:                                      â”‚
â”‚ â˜‘ SearxNG           â˜‘ SerperDev                       â”‚
â”‚                                                        â”‚
â”‚ Embedding Model:    [all-MiniLM-L6-v2       â–¼]        â”‚
â”‚                                                        â”‚
â”‚              [â–¶ Run Search]  [Stop â¹]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Execution Progress

```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ“Š Execution Progress                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Status: Processing                                     â”‚
â”‚                                                        â”‚
â”‚ âœ… Query Decomposition           (2.3s)               â”‚
â”‚ âœ… Parallel Search               (4.1s)               â”‚
â”‚ âœ… Content Extraction            (18.5s)              â”‚
â”‚ âœ… Embedding Generation          (2.7s)               â”‚
â”‚ âœ… RAG Storage                   (1.2s)               â”‚
â”‚ âœ… Vector Retrieval              (0.8s)               â”‚
â”‚ ðŸ”„ Synthesis                     (12.3s)              â”‚
â”‚                                                        â”‚
â”‚ Progress: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘] 85%                  â”‚
â”‚                                                        â”‚
â”‚ Elapsed: 41.9s / 60s                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Results Display

```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ“„ Search Results                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Answer:                                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ AI agents have seen significant developments in    â”‚ â”‚
â”‚ â”‚ 2024-2025, particularly in:                        â”‚ â”‚
â”‚ â”‚                                                    â”‚ â”‚
â”‚ â”‚ 1. **Multi-Agent Systems**: Frameworks like       â”‚ â”‚
â”‚ â”‚    CrewAI and AutoGen enable agent collaboration. â”‚ â”‚
â”‚ â”‚    [Source 1, 3]                                  â”‚ â”‚
â”‚ â”‚                                                    â”‚ â”‚
â”‚ â”‚ 2. **Tool Use & Function Calling**: Modern agents â”‚ â”‚
â”‚ â”‚    can now reliably execute external tools...     â”‚ â”‚
â”‚ â”‚    [Source 2, 5]                                  â”‚ â”‚
â”‚ â”‚                                                    â”‚ â”‚
â”‚ â”‚ 3. **Reasoning Capabilities**: New models like... â”‚ â”‚
â”‚ â”‚    [Source 4, 7]                                  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                        â”‚
â”‚ Sources (20):                                          â”‚
â”‚ [1] https://example.com/ai-agents-2024               â”‚
â”‚     "Latest AI Agent Developments" - Nov 2024         â”‚
â”‚     Relevance: 0.94 | Used in synthesis: Yes         â”‚
â”‚                                                        â”‚
â”‚ [2] https://example.com/tool-use                     â”‚
â”‚     "Function Calling in AI" - Oct 2024               â”‚
â”‚     Relevance: 0.89 | Used in synthesis: Yes         â”‚
â”‚                                                        â”‚
â”‚ [Show all 20 sources â–¼]                               â”‚
â”‚                                                        â”‚
â”‚ ðŸ“Š Metrics:                                            â”‚
â”‚ â€¢ Execution Time: 45.2s                               â”‚
â”‚ â€¢ Total Tokens: 8,450                                 â”‚
â”‚ â€¢ Cost: $0.0423                                       â”‚
â”‚ â€¢ Sources Retrieved: 20                               â”‚
â”‚ â€¢ LLM Calls: 3                                        â”‚
â”‚                                                        â”‚
â”‚ ðŸ”— Langfuse Trace:                                     â”‚
â”‚ [View Full Trace] [View Analytics]                    â”‚
â”‚                                                        â”‚
â”‚ [ðŸ’¾ Save Result] [ðŸ“‹ Copy JSON] [ðŸ“¤ Export]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”¬ Page 4: Research Mode Tester

### Query Input

```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ”¬ Research Mode Tester                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Research Question:                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ How does climate change affect ocean biodiversity?â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                        â”‚
â”‚ [Example Research Topics â–¼]                           â”‚
â”‚   â€¢ Multi-faceted topic with subtopics                â”‚
â”‚   â€¢ Comparative analysis across domains               â”‚
â”‚   â€¢ Historical evolution with current state           â”‚
â”‚   â€¢ Technical deep-dive                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Advanced Parameters

```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš™ï¸ Research Parameters                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Max Iterations:       [3        ] (1-5)               â”‚
â”‚ Max Sources:          [80       ] (20-150)            â”‚
â”‚ Sources per Section:  [10       ] (5-20)              â”‚
â”‚ Timeout (minutes):    [5        ] (1-10)              â”‚
â”‚                                                        â”‚
â”‚ Crawl Depth:          [2        ] (1-3)               â”‚
â”‚ Max Pages per URL:    [5        ] (1-10)              â”‚
â”‚                                                        â”‚
â”‚ LLM Model:            [Claude 3.5 Sonnet      â–¼]      â”‚
â”‚ Planning Model:       [Claude 3.5 Sonnet      â–¼]      â”‚
â”‚                                                        â”‚
â”‚ Document Processing:                                   â”‚
â”‚ â˜‘ PDFs    â˜‘ Excel    â˜‘ Word                          â”‚
â”‚                                                        â”‚
â”‚ Research Options:                                      â”‚
â”‚ â˜‘ Gap Analysis        â˜‘ Quality Check                â”‚
â”‚ â˜‘ Claim Verification  â˜ Draft Preview                â”‚
â”‚                                                        â”‚
â”‚           [â–¶ Start Research]  [Stop â¹]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Multi-Iteration Progress

```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ”„ Research Progress                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Status: Iteration 2 of 3 - Gap Analysis               â”‚
â”‚                                                        â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• ITERATION 1 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•           â”‚
â”‚ âœ… Research Planning             (7.2s)               â”‚
â”‚    â””â”€ 5 sections, 8 sub-topics identified             â”‚
â”‚ âœ… Multi-Angle Search            (28.4s)              â”‚
â”‚    â””â”€ 142 URLs discovered                             â”‚
â”‚ âœ… Deep Content Extraction       (52.1s)              â”‚
â”‚    â””â”€ 68 documents processed (52 web, 16 docs)        â”‚
â”‚ âœ… RAG Processing                (11.3s)              â”‚
â”‚    â””â”€ 68 documents stored                             â”‚
â”‚ âœ… Initial Synthesis             (34.7s)              â”‚
â”‚    â””â”€ Draft report: 3,245 words                       â”‚
â”‚                                                        â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• ITERATION 2 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•           â”‚
â”‚ âœ… Gap Analysis                  (6.8s)               â”‚
â”‚    â””â”€ 3 gaps identified, 2 weak sections              â”‚
â”‚ ðŸ”„ Targeted Research             (18.2s)              â”‚
â”‚    â””â”€ 15 additional URLs being processed...           â”‚
â”‚                                                        â”‚
â”‚ Progress: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 55%                  â”‚
â”‚                                                        â”‚
â”‚ Elapsed: 2m 38s / 5m 00s                              â”‚
â”‚                                                        â”‚
â”‚ ðŸ“Š Current Stats:                                      â”‚
â”‚ â€¢ Total Documents: 68 â†’ 83                            â”‚
â”‚ â€¢ LLM Calls: 12                                       â”‚
â”‚ â€¢ Total Tokens: 45,230                                â”‚
â”‚ â€¢ Estimated Cost: $0.28                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Comprehensive Report Display

```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ“Š Research Report                      [Export PDF â–¼] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Executive Summary] [Full Report] [Sources] [Metrics] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚ # How Climate Change Affects Ocean Biodiversity       â”‚
â”‚                                                        â”‚
â”‚ ## Executive Summary                                   â”‚
â”‚ Climate change is causing profound shifts in ocean... â”‚
â”‚ [Sources: 1, 3, 5, 7]                                 â”‚
â”‚                                                        â”‚
â”‚ ## 1. Ocean Temperature Changes                       â”‚
â”‚ Rising sea temperatures have increased by 0.6Â°C...    â”‚
â”‚ [Sources: 2, 8, 15, 22]                               â”‚
â”‚                                                        â”‚
â”‚ ### 1.1 Surface Temperature Effects                   â”‚
â”‚ Surface waters are warming fastest...                 â”‚
â”‚ [Sources: 12, 18]                                     â”‚
â”‚                                                        â”‚
â”‚ ### 1.2 Deep Ocean Changes                            â”‚
â”‚ Even deep ocean temperatures show measurable...       â”‚
â”‚ [Sources: 24, 31]                                     â”‚
â”‚                                                        â”‚
â”‚ ## 2. Coral Reef Degradation                          â”‚
â”‚ Coral bleaching events have tripled in frequency...   â”‚
â”‚ [Sources: 4, 9, 16, 28, 35]                           â”‚
â”‚                                                        â”‚
â”‚ [... sections 3-5 ...]                                â”‚
â”‚                                                        â”‚
â”‚ ## Conclusion                                          â”‚
â”‚ The evidence demonstrates that climate change...      â”‚
â”‚ [Sources: 45, 67, 72, 80]                             â”‚
â”‚                                                        â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                        â”‚
â”‚ ðŸ“š Sources Tab (80 total)                             â”‚
â”‚ [All] [Web] [PDF] [Excel] [Word] [High Relevance]    â”‚
â”‚                                                        â”‚
â”‚ [1] â­ Marine Biology Review 2024                     â”‚
â”‚     https://example.com/marine-bio-review             â”‚
â”‚     Type: PDF | Relevance: 0.96                       â”‚
â”‚     Used in: Executive Summary, Section 1             â”‚
â”‚     [View Document] [Langfuse Trace]                  â”‚
â”‚                                                        â”‚
â”‚ [2] â­ NOAA Ocean Temperature Data                    â”‚
â”‚     https://noaa.gov/ocean-temp-2024                  â”‚
â”‚     Type: Excel | Relevance: 0.94                     â”‚
â”‚     Used in: Section 1.1                              â”‚
â”‚     [View Document] [Langfuse Trace]                  â”‚
â”‚                                                        â”‚
â”‚ [... 78 more sources ...]                             â”‚
â”‚                                                        â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                        â”‚
â”‚ ðŸ“Š Metrics Tab                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Research Metrics                               â”‚    â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚ â”‚ Total Execution Time:   4m 23s                 â”‚    â”‚
â”‚ â”‚ Iterations Completed:   3                      â”‚    â”‚
â”‚ â”‚                                                â”‚    â”‚
â”‚ â”‚ Sources:                                       â”‚    â”‚
â”‚ â”‚ â€¢ Total Discovered:     142                    â”‚    â”‚
â”‚ â”‚ â€¢ Successfully Fetched: 83                     â”‚    â”‚
â”‚ â”‚ â€¢ Used in Report:       80                     â”‚    â”‚
â”‚ â”‚ â€¢ By Type: 64 web, 12 PDF, 3 Excel, 1 Word    â”‚    â”‚
â”‚ â”‚                                                â”‚    â”‚
â”‚ â”‚ LLM Usage:                                     â”‚    â”‚
â”‚ â”‚ â€¢ Total Calls:          15                     â”‚    â”‚
â”‚ â”‚ â€¢ Total Tokens:         67,840                 â”‚    â”‚
â”‚ â”‚   - Input:  52,340                             â”‚    â”‚
â”‚ â”‚   - Output: 15,500                             â”‚    â”‚
â”‚ â”‚ â€¢ Total Cost:           $0.42                  â”‚    â”‚
â”‚ â”‚                                                â”‚    â”‚
â”‚ â”‚ RAG Performance:                               â”‚    â”‚
â”‚ â”‚ â€¢ Documents Stored:     83                     â”‚    â”‚
â”‚ â”‚ â€¢ Embeddings Generated: 83 (384D each)         â”‚    â”‚
â”‚ â”‚ â€¢ Vector Searches:      8                      â”‚    â”‚
â”‚ â”‚ â€¢ Avg Relevance:        0.87                   â”‚    â”‚
â”‚ â”‚                                                â”‚    â”‚
â”‚ â”‚ Gap Analysis:                                  â”‚    â”‚
â”‚ â”‚ â€¢ Gaps Identified:      3                      â”‚    â”‚
â”‚ â”‚ â€¢ Additional Research:  15 sources             â”‚    â”‚
â”‚ â”‚ â€¢ Weak Sections Fixed:  2                      â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                        â”‚
â”‚ ðŸ”— Langfuse Traces:                                    â”‚
â”‚ [View Full Trace Tree] [Analytics Dashboard]          â”‚
â”‚                                                        â”‚
â”‚ [ðŸ’¾ Save Report] [ðŸ“‹ Copy Markdown] [ðŸ“¤ Export PDF]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“ˆ Page 5: Performance Dashboard

### Overview Stats

```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ“Š Performance Dashboard                  [Last 24h â–¼] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Total Queriesâ”‚ â”‚ Avg Search   â”‚ â”‚ Avg Research â”‚    â”‚
â”‚ â”‚     247      â”‚ â”‚    42.3s     â”‚ â”‚   3m 48s     â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Success Rate â”‚ â”‚ Total Cost   â”‚ â”‚ Avg Tokens   â”‚    â”‚
â”‚ â”‚   97.2%      â”‚ â”‚   $12.45     â”‚ â”‚    8,234     â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Performance Charts

```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Execution Time Distribution                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Line chart showing execution times over time]          â”‚
â”‚ â€¢ Search Mode: Blue line (avg ~42s)                     â”‚
â”‚ â€¢ Research Mode: Red line (avg ~228s)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Token Usage Over Time                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Stacked area chart]                                    â”‚
â”‚ â€¢ Input Tokens: Bottom area                             â”‚
â”‚ â€¢ Output Tokens: Top area                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cost Analysis                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Bar chart by day]                                      â”‚
â”‚ â€¢ Claude 3.5 Sonnet: $8.20                              â”‚
â”‚ â€¢ DeepSeek: $0.15                                       â”‚
â”‚ â€¢ GPT-4: $4.10                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Model Performance Comparison

```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Model Performance Comparison                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Model               | Queries | Avg Time | Avg Cost | QPSâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”œâ”€â”€â”€â”€â”¤
â”‚ Claude 3.5 Sonnet   â”‚   182   â”‚  45.2s   â”‚  $0.048  â”‚ 95%â”‚
â”‚ DeepSeek R1         â”‚    48   â”‚  38.7s   â”‚  $0.002  â”‚ 89%â”‚
â”‚ GPT-4o              â”‚    17   â”‚  52.1s   â”‚  $0.062  â”‚ 94%â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Session History

```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Recent Sessions                      [Filters â–¼] [CSV] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Session ID  | Query       | Mode  | Time  | Status    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”œâ”€â”€â”€â”€â”€â”€â”€â”œâ”€â”€â”€â”€â”€â”€â”€â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ abc123...   â”‚ AI agents   â”‚Search â”‚ 42.3s â”‚ âœ… Success â”‚
â”‚ def456...   â”‚ Climate ch..â”‚Researchâ”‚3m48s â”‚ âœ… Success â”‚
â”‚ ghi789...   â”‚ Quantum co..â”‚Search â”‚ 38.1s â”‚ âœ… Success â”‚
â”‚ jkl012...   â”‚ ML trends   â”‚Search â”‚ 61.2s â”‚ âš ï¸ Timeout â”‚
â”‚ mno345...   â”‚ Ocean bio...â”‚Researchâ”‚4m12s â”‚ âœ… Success â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
[Load More] [Export All]
```

---

## ðŸ› ï¸ Page 6: Configuration & Settings

### API Configuration

```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš™ï¸ API Configuration                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Research API URL:                                      â”‚
â”‚ [http://localhost:8001                              ] â”‚
â”‚                                                        â”‚
â”‚ Test Connection:  [âœ… Connected - 23ms]                â”‚
â”‚                                                        â”‚
â”‚ Rate Limit:       [10/minute                        ] â”‚
â”‚ Timeout:          [300 seconds                      ] â”‚
â”‚                                                        â”‚
â”‚            [ðŸ’¾ Save Settings]  [ðŸ”„ Reset]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Default Parameters

```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Default Test Parameters                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Search Mode:                                           â”‚
â”‚ â€¢ Max Sub-Queries:    [4  ]                           â”‚
â”‚ â€¢ Max Sources:        [20 ]                           â”‚
â”‚ â€¢ Timeout:            [60s]                           â”‚
â”‚                                                        â”‚
â”‚ Research Mode:                                         â”‚
â”‚ â€¢ Max Iterations:     [3   ]                          â”‚
â”‚ â€¢ Max Sources:        [80  ]                          â”‚
â”‚ â€¢ Timeout:            [300s]                          â”‚
â”‚                                                        â”‚
â”‚ LLM Models:                                            â”‚
â”‚ â€¢ Primary:    [Claude 3.5 Sonnet              â–¼]      â”‚
â”‚ â€¢ Planning:   [Claude 3.5 Sonnet              â–¼]      â”‚
â”‚                                                        â”‚
â”‚            [ðŸ’¾ Save Defaults]  [ðŸ”„ Reset]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”§ Technical Implementation

### Technology Stack

```python
streamlit==1.40.1
requests==2.32.3
pandas==2.2.3
plotly==5.24.1
pytest==8.3.4
python-json-logger==3.2.1
```

### File Structure

```
streamlit_app.py              # Main application entry
pages/
â”œâ”€â”€ home.py                   # System status & quick stats
â”œâ”€â”€ test_runner.py            # Pytest execution UI
â”œâ”€â”€ search_tester.py          # Search mode testing
â”œâ”€â”€ research_tester.py        # Research mode testing
â”œâ”€â”€ dashboard.py              # Performance metrics
â””â”€â”€ settings.py               # Configuration
components/
â”œâ”€â”€ api_client.py             # Research API client
â”œâ”€â”€ test_executor.py          # Pytest subprocess runner
â”œâ”€â”€ metrics_collector.py      # Performance tracking
â”œâ”€â”€ result_viewer.py          # Shared result display
â””â”€â”€ langfuse_widget.py        # Langfuse integration
utils/
â”œâ”€â”€ formatters.py             # Output formatting
â”œâ”€â”€ validators.py             # Input validation
â””â”€â”€ exporters.py              # PDF/CSV export
```

### Key Features Implementation

#### 1. Test Runner Integration

```python
import subprocess
import threading

def run_pytest(test_path: str, options: dict) -> dict:
    """Run pytest tests in subprocess with real-time output."""
    cmd = ["pytest", test_path, "-v"]
    
    if options["coverage"]:
        cmd.extend(["--cov=src", "--cov-report=json"])
    
    if options["stop_on_fail"]:
        cmd.append("-x")
    
    process = subprocess.Popen(
        cmd,
        stdout=subprocess.PIPE,
        stderr=subprocess.STDOUT,
        text=True,
        bufsize=1
    )
    
    output_lines = []
    for line in process.stdout:
        output_lines.append(line)
        st.text(line)  # Real-time output
    
    process.wait()
    
    return {
        "exit_code": process.returncode,
        "output": "".join(output_lines)
    }
```

#### 2. API Client with Progress Streaming

```python
import httpx
import asyncio

class ResearchAPIClient:
    """Client for research service API with streaming support."""
    
    async def search(self, query: str, params: dict, 
                    progress_callback=None):
        """Execute search with progress updates."""
        async with httpx.AsyncClient() as client:
            async with client.stream(
                "POST",
                f"{self.base_url}/v1/search",
                json={"query": query, **params},
                timeout=params.get("timeout", 60)
            ) as response:
                # Stream progress updates
                async for line in response.aiter_lines():
                    if line.startswith("data: "):
                        data = json.loads(line[6:])
                        if progress_callback:
                            progress_callback(data)
                
                return await response.json()
```

#### 3. Langfuse Integration

```python
def render_langfuse_link(trace_id: str):
    """Render clickable Langfuse trace link."""
    langfuse_url = f"https://cloud.langfuse.com/traces/{trace_id}"
    
    st.markdown(f"""
    ðŸ”— **Langfuse Trace**  
    [View Full Trace]({langfuse_url}) | 
    [View Analytics]({langfuse_url}/analytics)
    """)
```

#### 4. Results Comparison

```python
def compare_results(results: list[dict]):
    """Side-by-side comparison of multiple results."""
    cols = st.columns(len(results))
    
    for idx, (col, result) in enumerate(zip(cols, results)):
        with col:
            st.subheader(f"Run {idx + 1}")
            st.metric("Time", f"{result['execution_time']:.1f}s")
            st.metric("Cost", f"${result['cost']:.4f}")
            st.metric("Sources", result['source_count'])
            
            with st.expander("Answer"):
                st.markdown(result['answer'])
```

---

## ðŸ“¦ Deliverables

### Phase 5 Week 12-13 Outputs

1. **Complete Streamlit Application**
   - `streamlit_app.py` with all 6 pages
   - Modular component structure
   - Production-ready styling

2. **Dockerfile.streamlit**
   ```dockerfile
   FROM python:3.11-slim
   WORKDIR /app
   COPY requirements-streamlit.txt .
   RUN pip install -r requirements-streamlit.txt
   COPY streamlit_app.py .
   COPY pages/ ./pages/
   COPY components/ ./components/
   CMD ["streamlit", "run", "streamlit_app.py", "--server.port=8501"]
   ```

3. **requirements-streamlit.txt**
   ```
   streamlit==1.40.1
   requests==2.32.3
   httpx==0.28.0
   pandas==2.2.3
   plotly==5.24.1
   pytest==8.3.4
   python-json-logger==3.2.1
   markdown==3.7
   ```

4. **Documentation**
   - User guide for Streamlit UI
   - API testing workflows
   - Troubleshooting guide

---

## ðŸŽ¯ Success Criteria

- [x] Test runner can execute all pytest test suites
- [x] Search mode tester with full parameter control
- [x] Research mode tester with iteration monitoring
- [x] Real-time progress updates for both modes
- [x] Results visualization with source citations
- [x] Langfuse trace integration for every call
- [x] Performance dashboard with metrics
- [x] Export functionality (PDF, CSV, JSON)
- [x] Side-by-side result comparison
- [x] System health monitoring
- [x] Configuration management

---

## ðŸš€ Future Enhancements (Post-MVP)

- A/B testing between different LLM models
- Automated regression testing suite
- Custom test case builder
- Batch query testing
- Performance regression detection
- Cost optimization recommendations
- Interactive trace visualization
- Session replay functionality
- Integration with CI/CD pipeline
- Multi-user session management
